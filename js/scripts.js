/**
 * My Expenses v1.0.0
 * https://github.com/diegoteliz/my-expenses#readme
 * Copyright (c) 2016 - Diego Teliz <aloha@diegoteliz.com>
 * MIT License
 */
jQuery(document).ready(function(e){"use strict";var n=e(window),o=e("body"),i=e(".nav-btn"),l=e(".options-menu-btn"),t=e(".main-header"),a=e(".main-nav"),s=e(".options-menu"),c=e(".overlay"),r=(e(".nav-item"),e(".nav-link")),g=n.height(),d=n.width(),u=n.scrollTop(),p={phoneSmall:320,phoneMedium:480,phoneLarge:640,tablet:768,desktopSmall:1024};i.click(function(e){e.preventDefault(),a.is(".opened")?(a.removeClass("opened"),i.removeClass("active"),c.removeClass("active")):(s.is(".opened")&&l.trigger("click"),a.addClass("opened"),i.addClass("active"),c.addClass("active"))}),r.click(function(n){n.preventDefault(),r.removeClass("active"),e(this).addClass("active")}),l.click(function(e){e.preventDefault(),s.is(".opened")?(s.removeClass("opened"),c.removeClass("invisible")):(a.is(".opened")&&i.trigger("click"),s.addClass("opened"),c.addClass("invisible"))}),c.click(function(e){a.is(".opened")&&i.trigger("click"),s.is(".opened")&&l.trigger("click")}),n.keydown(function(e){switch(e.which){case 27:a.is(".opened")&&i.trigger("click"),s.is(".opened")&&l.trigger("click")}}),n.on("scroll",function(e){if(d<=p.desktopSmall){var o=n.scrollTop();o>u?u>=50&&t.addClass("collapsed"):t.is(".collapsed")&&t.removeClass("collapsed"),u=o}}),n.on("resize",function(e){g=n.height(),d=n.width()}),e(".user-logout").click(function(e){e.preventDefault(),signOut()});var m=function(n){return e(n).length>0};window.renderButton=function(){gapi.signin2.render("google-login-btn",{scope:"https://www.googleapis.com/auth/spreadsheets",width:240,height:50,longtitle:!0,theme:"dark",onsuccess:onSignIn,onfailure:onSignInFailure})},window.onSignIn=function(n){o.removeClass("logged-out").addClass("logged-in");var i=n.getBasicProfile();console.log("ID: "+i.getId()),console.log("Full Name: "+i.getName()),console.log("Image URL: "+i.getImageUrl()),console.log("Email: "+i.getEmail()),e(".profile-image").attr("src",i.getImageUrl()),e(".profile-name").text(i.getName()),e(".profile-email").text(i.getEmail())},window.onSignInFailure=function(e){console.log("Login error: "+e)},window.signOut=function(){var e=gapi.auth2.getAuthInstance();e.signOut().then(function(){o.removeClass("logged-in").addClass("logged-out")})},m(".dashboard")&&console.log("homepage")});