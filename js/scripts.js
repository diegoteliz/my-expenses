/**
 * My Expenses v1.0.0
 * https://github.com/diegoteliz/my-expenses#readme
 * Copyright (c) 2016 - Diego Teliz <aloha@diegoteliz.com>
 * MIT License
 */
jQuery(document).ready(function(e){"use strict";function o(){w.is(".opened")&&a(),C.addClass("opened"),m.addClass("active"),k.addClass("active")}function n(){C.removeClass("opened"),m.removeClass("active"),k.removeClass("active")}function s(){C.is(".opened")?n():o()}function t(){C.is(".opened")&&n(),w.addClass("opened"),k.addClass("invisible")}function a(){w.removeClass("opened"),k.removeClass("invisible")}function l(){w.is(".opened")?a():t()}function i(){C.is(".opened")&&n(),w.is(".opened")&&a()}function c(e){console.log("2 - handleAuthResult");var o=document.getElementById("authorize-div");e&&!e.error?(o.style.opacity="0.1",u()):o.style.opacity="1"}function r(){console.log("4 - listMajors"),gapi.client.sheets.spreadsheets.values.get({spreadsheetId:"15WHNmAqj7GIpFTocH2rMMY2bfqd18En6Lnee-AhGHkg",range:"Sheet1!A2"}).then(function(o){var n=o.result.values[0];console.log("5 - range:"),n.length>0?e(".output").html(n):console.log("No data found")},function(e){console.log("Error: "+e.result.error.message)})}function d(o){return e(o).length>0}function u(){console.log("3 - startApp"),d(".dashboard")?(console.log("homepage-route"),gapi.client.load(G).then(h)):d(".envelopes")&&(console.log("homepage"),v())}function h(){console.log("homepage-data"),gapi.client.sheets.spreadsheets.values.get({spreadsheetId:I,range:D.dashboard}).then(function(e){var o=e.result.values;console.log(o),p(o)},function(e){console.log("Error: "+e.result.error.message)})}function p(o){if(o){var n=e("#available-value"),s=e("#savings-value"),t=e("#reward-value"),a=e("#current-value");n.html(o[0][0]),s.html(o[0][1]),t.html(o[0][2]),a.html(o[0][3])}else console.log("Error loading data")}function v(){gapi.client.load(G).then(r)}var g=e(window),m=(e("body"),e(".nav-btn")),f=e(".options-menu-btn"),b=e(".main-header"),C=e(".main-nav"),w=e(".options-menu"),k=e(".overlay"),y=(e(".nav-item"),e(".nav-link")),A=g.height(),E=g.width(),H=g.scrollTop(),M={phoneSmall:320,phoneMedium:480,phoneLarge:640,tablet:768,desktopSmall:1024};m.click(function(e){e.preventDefault(),s()}),y.click(function(o){o.preventDefault(),y.removeClass("active"),e(this).addClass("active")}),f.click(function(e){e.preventDefault(),l()}),k.click(function(e){i()}),g.keydown(function(e){switch(e.which){case 27:i()}}),g.on("scroll",function(e){if(E<=M.desktopSmall){var o=g.scrollTop();o>H?H>=50&&b.addClass("collapsed"):b.is(".collapsed")&&b.removeClass("collapsed"),H=o}}),g.on("resize",function(e){A=g.height(),E=g.width()});var j="https://sheets.googleapis.com",q="v4",B=j+"/"+q+"/",G=j+"/$discovery/rest?version="+q,I="15WHNmAqj7GIpFTocH2rMMY2bfqd18En6Lnee-AhGHkg",S="504102905851-nuidhoa6s03n8rs822sbgci4q4b72s7r.apps.googleusercontent.com",z=["https://www.googleapis.com/auth/spreadsheets.readonly"],D={dashboard:"Current!G4:J4",sample:"Sheet1!A1:A5",available:B+"spreadsheets/"+I+"/values/B1",savings:B+"spreadsheets/"+I+"/values/B2",reward:B+"spreadsheets/"+I+"/values/B3",current:B+"spreadsheets/"+I+"/values/B4"},T=e(".google-login-btn-new");T.click(function(e){console.log("# - handleAuthClick"),e.preventDefault(),gapi.auth.authorize({client_id:S,scope:z,immediate:!1},c)}),window.checkAuth=function(){console.log("1 - checkAuth"),gapi.auth.authorize({client_id:S,scope:z.join(" "),immediate:!0},c)}});